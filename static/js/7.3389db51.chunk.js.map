{"version":3,"sources":["Home/components/TopReferrer.js","Home/topreferrer/index.js"],"names":["CardWrapper","styled","Card","background","marginBottom","TopReflevelsInfo","useContractContext","contract","wrongNetwork","fromWei","getBnbBalance","web3","toWei","useAuthContext","address","chainId","useState","clockicon","week","currentWeek","setCurrentWeek","fetchCurrentWeek","a","Promise","all","methods","getCurrentWeek","call","catch","err","console","error","weekinfo","contestants","walletBalance","setWalletBalance","fetchWalletBalance","getLeaderboard","info1","useEffect","refcontestant","toprefaddress0","addr","toString","toprefaddress1","toprefaddress2","toprefaddress3","toprefaddress4","toprefamount0","amount","toprefamount1","toprefamount2","toprefamount3","toprefamount4","CardContent","style","color","Typography","variant","borderBottom","paddingBottom","Box","paddingTop","Grid","container","justifyContent","alignItems","mt","paddingLeft","Topref","className"],"mappings":"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","file":"static/js/7.3389db51.chunk.js","sourcesContent":["\nimport * as React from 'react';\nimport CardContent from \"@mui/material/CardContent\";\nimport Card from \"@mui/material/Card\";\nimport Grid from \"@mui/material/Grid\";\nimport Box from \"@mui/material/Box\";\nimport Typography from \"@mui/material/Typography\";\nimport Web3 from \"web3\";\n\nimport { useContractContext } from \"../../providers/ContractProvider\";\nimport { useAuthContext } from \"../../providers/AuthProvider\";\nimport { useEffect, useState } from \"react\";\nimport { config } from \"../../config\";\nimport Address from './address'\nimport {FaCalendarWeek} from 'react-icons/fa';\n\nimport { styled } from \"@mui/system\";\n\n\n\nconst CardWrapper = styled(Card)({\n  background: \"#FECA70\",\n  marginBottom: 24,\n});\n\n\n\nexport default function TopReflevelsInfo() {\n\n\nconst { contract, wrongNetwork, getBnbBalance, fromWei, toWei, web3 } = useContractContext();\nconst { address, chainId } = useAuthContext();\nconst [contractBNB, setContractBNB] = useState(0);\nconst clockicon = <FaCalendarWeek />;\n\n\nconst [currentWeek, setCurrentWeek] = useState({\n\n\n    week: 0,\n\n  \n});\n\nconst fetchCurrentWeek = async () => {\n    if (!web3 || wrongNetwork) {\n        setCurrentWeek({\n      \n        week: 0,\n          \n          });\n          return;\n    }\n\n    try {\n        const [ weekinfo ]\n      = await Promise.all([\n\n        contract.methods\n        .getCurrentWeek()\n        .call()\n\n        .catch((err) => {\n          console.error(\"currentweek\", err);\n          return 0;\n        }),\n \n        \n      ]);\n               \n\n      setCurrentWeek({\n      \n        week: weekinfo,\n      \n        \n      });\n    } \n\n    catch (err) {\n      console.error(err);\n      setCurrentWeek({\n       \n        week: 0,\n       \n      });\n    }\n\n  };\n\n\n\nconst [walletBalance, setWalletBalance] = useState({\n\n\n    contestants: 0,\n\n  \n});\n\nconst fetchWalletBalance = async () => {\n    if (!web3 || wrongNetwork || !address) {\n      setWalletBalance({\n      \n        contestants: 0,\n      \n       \n      });\n      return;\n    }\n\n    try {\n        const [ info1 ]\n      = await Promise.all([\n\n       \n        contract.methods\n        .getLeaderboard(currentWeek.week)\n        .call()\n\n        // $(\"#lvl1\").html(info[0]);\n\n        .catch((err) => {\n          console.error(\"topreferrer\", err);\n          return 0;\n        }),\n \n        \n      ]);\n               \n                      \n\n\n      setWalletBalance({\n      \n        contestants: info1,\n      \n        \n      });\n    } \n\n    catch (err) {\n      console.error(err);\n      setWalletBalance({\n       \n        contestants: 0,\n       \n       \n      });\n    }\n  };\n\n//   useEffect(() => {\n//     fetchContractBNBBalance();\n//   }, [web3, chainId]);\n\n\nuseEffect(() => {\n    fetchCurrentWeek();\n}, [web3, chainId]);\n\n  useEffect(() => {\n    fetchWalletBalance();\n  }, [address, web3, chainId]);\n\n\n\n// top referrer\n  const refcontestant = walletBalance.contestants;\n\n// top referrer addrs\n  const toprefaddress0 =  refcontestant ? refcontestant[0].addr.toString() : '';\n  const toprefaddress1 =  refcontestant ? refcontestant[1].addr.toString() : '';\n  const toprefaddress2 =  refcontestant ? refcontestant[2].addr.toString() : '';\n  const toprefaddress3 =  refcontestant ? refcontestant[3].addr.toString() : '';\n  const toprefaddress4 =  refcontestant ? refcontestant[4].addr.toString() : '';\n\n\n\n  // top referrer amount\n  const toprefamount0 = refcontestant[0] ? refcontestant[0].amount : '';\n  const toprefamount1 = refcontestant[1] ? refcontestant[1].amount : '';\n  const toprefamount2 = refcontestant[2] ? refcontestant[2].amount : '';\n  const toprefamount3 = refcontestant[3] ? refcontestant[3].amount : '';\n  const toprefamount4 = refcontestant[4] ? refcontestant[4].amount : '';\n\n\n\n\n  // function renderLeaderboard(contestants){\n  //   let i = 0;\n  \n  //   contestants.forEach(contestant => {\n      \n  \n  //     i++;\n  //     if (contestant.addr != \"0x0000000000000000000000000000000000000000\"){\n  //       //console.log(\"no key\");\n  //       referee = \"<div class=\\\"row\\\"><div class=\\\"col-3\\\">\" + ((parseFloat(contestant.amount))/10**18).toFixed(6) + \"</div><div style=\\\"word-break: break-all\\\" class=\\\"col-9 users truncate\\\">\" + contestant.addr + \"</div></div>\";\n  //       $(\"#referee-\" + i).html(referee);\n  //     }\n  //     //console.log(key + \" \" + value + \" \" + i);\n  \n  //   });\n  // }\n \n\n\n\n\n\n  // const topreflevelinfos = [\n  //   {\n  //     topaddress: refcontestant ? refcontestant[0].addr.toString().slice(0, -5) : '',\n  //     topamount:  fromWei(`${toprefamount0}`),\n    \n  //   },\n  //   {\n  //     topaddress: refcontestant ? refcontestant[1].addr.toString().slice(0, -5) : '',\n  //     topamount:  fromWei(`${toprefamount1}`),\n      \n  //     },\n  //     {\n  //     topaddress: refcontestant ? refcontestant[2].addr.toString().slice(0, -5) : '',\n  //     topamount:  fromWei(`${toprefamount2}`),\n      \n  //     },\n  //     {\n  //     topaddress: refcontestant ? refcontestant[3].addr.toString().slice(0, -5) : '',\n  //     topamount:  fromWei(`${toprefamount3}`),\n        \n  //     },\n  //     {\n  //     topaddress: refcontestant ? refcontestant[4].addr.toString().slice(0, -5) : '',\n  //     topamount:  fromWei(`${toprefamount4}`),\n          \n  //     }, \n   \n  \n  // ];\n\n\n  return (\n   \n    <CardWrapper>\n   \n    <CardContent style={{color: \"#AF1A25\"}}>\n\n    <Typography style={{color: \"#AF1A25\"}} variant=\"h5\" borderBottom=\"6px solid\" paddingBottom={1}>\n     {clockicon} Top 5 Week ({currentWeek.week}) referrer.\n        </Typography>\n\n      <Box  paddingTop={2}> \n\n      <Grid\n        container\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n        mt={3}\n      >\n        <Typography style={{ color: '#AF1A25' }}  variant=\"body1\"> 1.\n        <Address style={{ color: '#AF1A25' }} a={toprefaddress0} />\n        </Typography>\n        \n        <Typography paddingLeft={2} style={{ color: '#AF1A25' }} variant=\"h5\">{fromWei(`${toprefamount0}`)} BNB</Typography>\n      </Grid>\n\n      <Grid\n        container\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n        mt={3}\n      >\n        <Typography style={{ color: '#AF1A25' }}  variant=\"body1\"> 2.\n        <Address style={{ color: '#AF1A25' }} a={toprefaddress1} />\n        </Typography>\n        \n        <Typography  style={{ color: '#AF1A25' }} variant=\"h5\">{fromWei(`${toprefamount1}`)} BNB</Typography>\n      </Grid>\n\n      <Grid\n        container\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n        mt={3}\n      >\n        <Typography style={{ color: '#AF1A25' }}  variant=\"body1\"> 3.\n        <Address style={{ color: '#AF1A25' }} a={toprefaddress2} />\n        </Typography>\n        \n        <Typography style={{ color: '#AF1A25' }}  variant=\"h5\"> {fromWei(`${toprefamount2}`)} BNB</Typography>\n      </Grid>\n\n      <Grid\n        container\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n        mt={3}\n      >\n        <Typography style={{ color: '#AF1A25' }}  variant=\"body1\"> 4.\n        <Address style={{ color: '#AF1A25' }} a={toprefaddress3} />\n        </Typography>\n        \n        <Typography style={{ color: '#AF1A25' }} variant=\"h5\">{fromWei(`${toprefamount3}`)} BNB</Typography>\n      </Grid>\n\n      <Grid\n        container\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n        mt={3}\n      >\n        <Typography style={{ color: '#AF1A25' }}  variant=\"body1\"> 5.\n        <Address style={{ color: '#AF1A25' }} a={toprefaddress4} />\n        </Typography>\n        \n        <Typography style={{ color: '#AF1A25' }} variant=\"h5\">{fromWei(`${toprefamount4}`)} BNB</Typography>\n      </Grid>\n\n      </Box>\n     \n\n    </CardContent>\n\n  </CardWrapper>\n\n  \n\n  );\n}\n","import React from \"react\";\nimport TopReferrer from \"../components/TopReferrer\";\nimport { useAuthContext } from \"../../providers/AuthProvider\";\n\nimport \"./Page.css\";\n\n\n\nconst  Topref = () => {\n    const { address } = useAuthContext();\n\n  \n\n\n  return (\n    <div className=\"MainDash\">\n      <h1  style={{color: \"#AF1A25\"}}>Top Referrer</h1>\n      {/* <Connect/> */}\n      {/* <RefCards /> */}\n      <TopReferrer/>\n      {/* <OtherInfo/> */}\n      {/* <Table /> */}\n    </div>\n  );\n};\n\nexport default Topref;\n"],"sourceRoot":""}